---
- name: Connectivity check
  hosts: all
  gather_facts: false
  tasks:
    - name: Test connection
      raw: echo "Connected to $(hostname)"
      register: test_output
      ignore_errors: true

    - name: Show connection result
      debug:
        msg: "{{ inventory_hostname }} => {{ test_output.stdout | default('unreachable') }}"
